{"version":3,"file":"index.js","mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM,IAA6B;AACnC,OAAO,EAE4B;AACnC,CAAC;AACD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAM;AACN,4CAA4C;AAC5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iCAAiC;;AAEjC;AACA,uCAAuC;AACvC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,wFAAwF,iBAAiB,EAAE,qCAAqC,IAAI,GAAG,EAAE,kBAAkB,IAAI,GAAG,EAAE,gBAAgB,IAAI,mBAAmB,IAAI,GAAG,EAAE,mBAAmB,IAAI,GAAG,IAAI,YAAY,IAAI,mBAAmB,IAAI,GAAG,EAAE,mBAAmB,IAAI,GAAG,IAAI,YAAY,IAAI,mBAAmB,IAAI,GAAG,EAAE,mBAAmB,IAAI,GAAG,IAAI,YAAY,IAAI,gBAAgB,IAAI,oBAAoB,IAAI,GAAG,IAAI,YAAY,IAAI,oBAAoB,IAAI,aAAa,IAAI,iDAAiD,EAAE,4DAA4D,IAAI,GAAG,IAAI,YAAY,IAAI,gBAAgB,IAAI,mBAAmB,IAAI,GAAG,IAAI,YAAY,IAAI,mDAAmD,yDAAyD,EAAE,sEAAsE,gBAAgB,EAAE,oDAAoD,kBAAkB,EAAE,wCAAwC,kBAAkB,EAAE,mCAAmC,kBAAkB,EAAE,sCAAsC,kBAAkB,EAAE,mCAAmC,kBAAkB,EAAE,2CAA2C,oBAAoB,EAAE,yCAAyC,oBAAoB,EAAE;AACh1C,4BAA4B,gBAAgB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,WAAW;AACX,WAAW;AACX,YAAY;AACZ,WAAW;AACX,YAAY;AACZ,WAAW;AACX,YAAY;AACZ,WAAW;AACX,YAAY;AACZ,UAAU;AACV,UAAU;AACV;AACA,UAAU;AACV;AACA,SAAS;AACT,UAAU;AACV,UAAU;AACV,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA,iDAAiD;AACjD;AACA;AACA,8BAA8B,KAAK;AACnC;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,iCAAiC,OAAO;AACxC;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAkC,KAAK;AACvC;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,qCAAqC,kBAAkB;AACvD;AACA;AACA,oCAAoC,GAAG;AACvC;AACA;;AAEA;AACA;AACA,mDAAmD,EAAE;AACrD;AACA;;AAEA;AACA,8BAA8B;AAC9B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,yCAAyC;AACzC;;AAEA;AACA,uBAAuB,GAAG;;AAE1B;AACA,yCAAyC,SAAS;AAClD,mCAAmC,SAAS;;AAE5C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC,KAAK;AACrC;AACA,wBAAwB;AACxB;AACA,QAAQ,oCAAoC;AAC5C;AACA,QAAQ;AACR,wBAAwB;AACxB,oDAAoD;AACpD;;AAEA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAkB,EAAE;;AAEpB;AACA,kBAAkB,EAAE;AACpB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,yBAAyB,GAAG;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA,oBAAoB,GAAG;;AAEvB;AACA;AACA,qBAAqB,GAAG;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,YAAY;AAC9D,iCAAiC;AACjC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,0BAA0B,IAAI,iBAAiB,IAAI,aAAa,EAAE;AAClE;AACA,OAAO;AACP;AACA;;AAEA;AACA,gCAAgC;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,oBAAoB,GAAG;AACvB;AACA,4BAA4B,GAAG;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC,SAAS,EAAE;;AAE3C;AACA;AACA,oBAAoB,SAAS,EAAE,qBAAqB,EAAE;;AAEtD;AACA;;AAEA;AACA;;AAEA;AACA,sEAAsE;;AAEtE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,+BAA+B,QAAQ,WAAW;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA,mBAAmB,QAAQ,WAAW;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,EAAE,mBAAmB,EAAE,OAAO,IAAI;AACpD,kBAAkB,EAAE,EAAE,mBAAmB,EAAE,EAAE,QAAQ,KAAK;;AAE1D;AACA;AACA;AACA;AACA,mBAAmB,EAAE,IAAI,UAAU;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,yDAAyD,GAAG;;AAE5D;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,2BAA2B,EAAE,MAAM,GAAG,QAAQ,EAAE;AAChD,2BAA2B,GAAG,QAAQ,EAAE;;AAExC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,mBAAmB,GAAG;AACtB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,yBAAyB,uBAAuB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA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","sources":["webpack://block-editor-virastar/./node_modules/virastar/lib/virastar.js","webpack://block-editor-virastar/external window [\"wp\",\"components\"]","webpack://block-editor-virastar/external window [\"wp\",\"data\"]","webpack://block-editor-virastar/external window [\"wp\",\"editPost\"]","webpack://block-editor-virastar/external window [\"wp\",\"element\"]","webpack://block-editor-virastar/external window [\"wp\",\"i18n\"]","webpack://block-editor-virastar/external window [\"wp\",\"notices\"]","webpack://block-editor-virastar/external window [\"wp\",\"plugins\"]","webpack://block-editor-virastar/webpack/bootstrap","webpack://block-editor-virastar/webpack/runtime/compat get default export","webpack://block-editor-virastar/webpack/runtime/define property getters","webpack://block-editor-virastar/webpack/runtime/hasOwnProperty shorthand","webpack://block-editor-virastar/webpack/runtime/make namespace object","webpack://block-editor-virastar/./src/index.js"],"sourcesContent":["/*!\n* Virastar - v0.21.0 - 2020-05-14\n* https://github.com/brothersincode/virastar\n* Licensed: MIT\n*/\n\n(function (name, global, definition) {\n  if (typeof module !== 'undefined') module.exports = definition();\n  else if (typeof define === 'function' && typeof define.amd === 'object') define(definition);\n  else if (typeof window !== 'undefined') window[name] = definition();\n  else global[name] = definition();\n}('Virastar', this, function () {\n  function Virastar (text, options) {\n    if (!(this instanceof Virastar)) {\n      return new Virastar(text, options);\n    }\n\n    text = text || {};\n\n    if (typeof text === 'object') {\n      this.opts = parseOptions(text);\n    } else if (typeof text === 'string') {\n      this.opts = parseOptions(options || {});\n      return cleanup(text);\n    }\n\n    return this;\n  }\n\n  function parseOptions (options) {\n    // @ref: https://scotch.io/bar-talk/copying-objects-in-javascript\n    var parsed = Object.assign({}, defaults);\n\n    for (var i in parsed) {\n      if (options.hasOwnProperty(i)) { // eslint-disable-line no-prototype-builtins\n        parsed[i] = options[i];\n      }\n    }\n\n    return parsed;\n  }\n\n  function charReplace (text, fromBatch, toBatch) {\n    var fromChars = fromBatch.split('');\n    var toChars = toBatch.split('');\n    for (var i in fromChars) {\n      text = text.replace(newRegExp(fromChars[i]), toChars[i]);\n    }\n    return text;\n  }\n\n  function arrReplace (text, array) {\n    for (var i in array) {\n      if (array.hasOwnProperty(i)) { // eslint-disable-line no-prototype-builtins\n        text = text.replace(newRegExp('[' + array[i] + ']'), i);\n      }\n    }\n    return text;\n  }\n\n  function newRegExp (pattern, flags) {\n    return new RegExp(pattern, flags || 'g');\n  }\n\n  var charsPersian = 'ءاآأإئؤبپتثجچحخدذرزژسشصضطظعغفقکگلمنوهیةيك';\n\n  // @REF: https://en.wikipedia.org/wiki/Persian_alphabet#Diacritics\n  // `\\u064e\\u0650\\u064f\\u064b\\u064d\\u064c\\u0651\\u06c0`\n  var charsDiacritic = 'ًٌٍَُِّْ';\n\n  // @source: https://github.com/jhermsmeier/uri.regex\n  var patternURI = \"([A-Za-z][A-Za-z0-9+\\\\-.]*):(?:(//)(?:((?:[A-Za-z0-9\\\\-._~!$&'()*+,;=:]|%[0-9A-Fa-f]{2})*)@)?((?:\\\\[(?:(?:(?:(?:[0-9A-Fa-f]{1,4}:){6}|::(?:[0-9A-Fa-f]{1,4}:){5}|(?:[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,1}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){3}|(?:(?:[0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})?::(?:[0-9A-Fa-f]{1,4}:){2}|(?:(?:[0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}:|(?:(?:[0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})?::)(?:[0-9A-Fa-f]{1,4}:[0-9A-Fa-f]{1,4}|(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?))|(?:(?:[0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})?::[0-9A-Fa-f]{1,4}|(?:(?:[0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})?::)|[Vv][0-9A-Fa-f]+\\\\.[A-Za-z0-9\\\\-._~!$&'()*+,;=:]+)\\\\]|(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)|(?:[A-Za-z0-9\\\\-._~!$&'()*+,;=]|%[0-9A-Fa-f]{2})*))(?::([0-9]*))?((?:/(?:[A-Za-z0-9\\\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)|/((?:(?:[A-Za-z0-9\\\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})+(?:/(?:[A-Za-z0-9\\\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)?)|((?:[A-Za-z0-9\\\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})+(?:/(?:[A-Za-z0-9\\\\-._~!$&'()*+,;=:@]|%[0-9A-Fa-f]{2})*)*)|)(?:\\\\?((?:[A-Za-z0-9\\\\-._~!$&'()*+,;=:@/?]|%[0-9A-Fa-f]{2})*))?(?:\\\\#((?:[A-Za-z0-9\\\\-._~!$&'()*+,;=:@/?]|%[0-9A-Fa-f]{2})*))?\";\n  var patternAfter = '\\\\s.,;،؛!؟?\"\\'()[\\\\]{}“”«»';\n\n  var defaults = {\n    // aggresive: true, // DEPRECATED\n    cleanup_begin_and_end: true,\n    cleanup_extra_marks: true,\n    cleanup_kashidas: true,\n    cleanup_line_breaks: true,\n    cleanup_rlm: true,\n    cleanup_spacing: true,\n    cleanup_zwnj: true,\n    decode_htmlentities: true,\n    fix_arabic_numbers: true,\n    fix_dashes: true,\n    fix_diacritics: true,\n    fix_english_numbers: true,\n    fix_english_quotes_pairs: true,\n    fix_english_quotes: true,\n    fix_hamzeh: true,\n    fix_hamzeh_arabic: false,\n    fix_misc_non_persian_chars: true,\n    fix_misc_spacing: true,\n    fix_numeral_symbols: true,\n    fix_perfix_spacing: true,\n    fix_persian_glyphs: true,\n    fix_punctuations: true,\n    fix_question_mark: true,\n    fix_spacing_for_braces_and_quotes: true,\n    fix_spacing_for_punctuations: true,\n    fix_suffix_misc: true,\n    fix_suffix_spacing: true,\n    fix_three_dots: true,\n    kashidas_as_parenthetic: true,\n    markdown_normalize_braces: true,\n    markdown_normalize_lists: true,\n    normalize_dates: true,\n    normalize_ellipsis: true,\n    normalize_eol: true,\n    preserve_braces: false,\n    preserve_brackets: false,\n    preserve_comments: true,\n    preserve_entities: true,\n    preserve_frontmatter: true,\n    preserve_HTML: true,\n    preserve_nbsps: true,\n    preserve_URIs: true,\n    remove_diacritics: false,\n    skip_markdown_ordered_lists_numbers_conversion: false\n  };\n\n  var digits = '۱۲۳۴۵۶۷۸۹۰';\n\n  /* eslint-disable */\n  var entities = {\n    'sbquo;': '\\u201a',\n    'lsquo;': '\\u2018',\n    'lsquor;': '\\u201a',\n    'ldquo;': '\\u201c',\n    'ldquor;': '\\u201e',\n    'rdquo;': '\\u201d',\n    'rdquor;': '\\u201d',\n    'rsquo;': '\\u2019',\n    'rsquor;': '\\u2019',\n    'apos;': '\\'',\n    'QUOT;': '\"',\n    'QUOT': '\"',\n    'quot;': '\"',\n    'quot': '\"',\n    'zwj;': '\\u200d',\n    'ZWNJ;': '\\u200c',\n    'zwnj;': '\\u200c',\n    'shy;': '\\u00ad' // wrongly used as zwnj\n  };\n\n  // props @ebraminio/persiantools\n  var glyphs = {\n    // these two are for visually available ZWNJ #visualZwnj\n    '\\u200cه': 'ﻫ',\n    'ی\\u200c': 'ﻰﻲ',\n    'ﺃ': 'ﺄﺃ',\n    'ﺁ': 'ﺁﺂ',\n    'ﺇ': 'ﺇﺈ',\n    'ا': 'ﺎا',\n    'ب': 'ﺏﺐﺑﺒ',\n    'پ': 'ﭖﭗﭘﭙ',\n    'ت': 'ﺕﺖﺗﺘ',\n    'ث': 'ﺙﺚﺛﺜ',\n    'ج': 'ﺝﺞﺟﺠ',\n    'چ': 'ﭺﭻﭼﭽ',\n    'ح': 'ﺡﺢﺣﺤ',\n    'خ': 'ﺥﺦﺧﺨ',\n    'د': 'ﺩﺪ',\n    'ذ': 'ﺫﺬ',\n    'ر': 'ﺭﺮ',\n    'ز': 'ﺯﺰ',\n    'ژ': 'ﮊﮋ',\n    'س': 'ﺱﺲﺳﺴ',\n    'ش': 'ﺵﺶﺷﺸ',\n    'ص': 'ﺹﺺﺻﺼ',\n    'ض': 'ﺽﺾﺿﻀ',\n    'ط': 'ﻁﻂﻃﻄ',\n    'ظ': 'ﻅﻆﻇﻈ',\n    'ع': 'ﻉﻊﻋﻌ',\n    'غ': 'ﻍﻎﻏﻐ',\n    'ف': 'ﻑﻒﻓﻔ',\n    'ق': 'ﻕﻖﻗﻘ',\n    'ک': 'ﮎﮏﮐﮑﻙﻚﻛﻜ',\n    'گ': 'ﮒﮓﮔﮕ',\n    'ل': 'ﻝﻞﻟﻠ',\n    'م': 'ﻡﻢﻣﻤ',\n    'ن': 'ﻥﻦﻧﻨ',\n    'ه': 'ﻩﻪﻫﻬ',\n    'هٔ': 'ﮤﮥ',\n    'و': 'ﻭﻮ',\n    'ﺅ': 'ﺅﺆ',\n    'ی': 'ﯼﯽﯾﯿﻯﻰﻱﻲﻳﻴ',\n    'ئ': 'ﺉﺊﺋﺌ',\n    'لا': 'ﻼ',\n    'ﻹ': 'ﻺ',\n    'ﻷ': 'ﻸ',\n    'ﻵ': 'ﻶ'\n  };\n  /* eslint-enable */\n\n  function cleanup (text, options) {\n    if (typeof text !== 'string') {\n      throw new TypeError('Expected a String, but received ' + typeof text);\n    }\n\n    // dont bother if its empty or whitespace\n    if (!text.trim()) {\n      return text;\n    }\n\n    var opts = options ? parseOptions(options) : this.opts;\n\n    // single space paddings around the string\n    text = ' ' + text + ' ';\n\n    // preserves frontmatter data in the text\n    if (opts.preserve_frontmatter) {\n      var frontmatter = [];\n      text = text.replace(/^ ---[\\S\\s]*?---\\n/g, function (matched) {\n        frontmatter.push(matched);\n        return ' __FRONTMATTER__PRESERVER__ ';\n      });\n    }\n\n    // preserves all html tags in the text\n    // @props: @wordpress/wordcount\n    if (opts.preserve_HTML) {\n      var html = [];\n      text = text.replace(/<\\/?[a-z][^>]*?>/gi, function (matched) {\n        html.push(matched);\n        return ' __HTML__PRESERVER__ ';\n      });\n    }\n\n    // preserves all html comments in the text\n    // @props: @wordpress/wordcount\n    if (opts.preserve_comments) {\n      var comments = [];\n      text = text.replace(/<!--[\\s\\S]*?-->/g, function (matched) {\n        comments.push(matched);\n        return ' __COMMENT__PRESERVER__ ';\n      });\n    }\n\n    // preserves strings inside square brackets (`[]`)\n    if (opts.preserve_brackets) {\n      var brackets = [];\n      text = text.replace(/(\\[.*?\\])/g, function (matched) {\n        brackets.push(matched);\n        return ' __BRACKETS__PRESERVER__ ';\n      });\n    }\n\n    // preserves strings inside curly braces (`{}`)\n    if (opts.preserve_braces) {\n      var braces = [];\n      text = text.replace(/(\\{.*?\\})/g, function (matched) {\n        braces.push(matched);\n        return ' __BRACES__PRESERVER__ ';\n      });\n    }\n\n    // preserves all uri strings in the text\n    if (opts.preserve_URIs) {\n      var mdlinks = [];\n      var uris = [];\n\n      // stores markdown links separetly\n      text = text.replace(/]\\((.*?)\\)/g, function (matched, link) {\n        if (link) {\n          mdlinks.push(link.trim());\n          return '](__MD_LINK__PRESERVER__)'; // no padding!\n        }\n        return matched;\n      });\n\n      text = text.replace(newRegExp(patternURI), function (matched) {\n        uris.push(matched);\n        return ' __URI__PRESERVER__ ';\n      });\n    }\n\n    // preserves all no-break space entities in the text\n    if (opts.preserve_nbsps) {\n      var nbsps = [];\n      text = text.replace(/&nbsp;|&#160;/gi, function (matched) {\n        nbsps.push(matched);\n        return ' __NBSPS__PRESERVER__ ';\n      });\n    }\n\n    if (opts.decode_htmlentities) {\n      text = decodeHTMLEntities(text);\n    }\n\n    // preserves all html entities in the text\n    // @props: @substack/node-ent\n    if (opts.preserve_entities) {\n      var entities = [];\n      text = text.replace(/&(#?[^;\\W]+;?)/g, function (matched) {\n        entities.push(matched);\n        return ' __ENTITIES__PRESERVER__ ';\n      });\n    }\n\n    if (opts.normalize_eol) {\n      text = normalizeEOL(text);\n    }\n\n    if (opts.fix_persian_glyphs) {\n      text = fixPersianGlyphs(text);\n    }\n\n    if (opts.fix_dashes) {\n      text = fixDashes(text);\n    }\n\n    if (opts.fix_three_dots) {\n      text = fixThreeDots(text);\n    }\n\n    if (opts.normalize_ellipsis) {\n      text = normalizeEllipsis(text);\n    }\n\n    if (opts.fix_english_quotes_pairs) {\n      text = fixEnglishQuotesPairs(text);\n    }\n\n    if (opts.fix_english_quotes) {\n      text = fixEnglishQuotes(text);\n    }\n\n    if (opts.fix_hamzeh) {\n      if (opts.fix_hamzeh_arabic) {\n        text = fixHamzehArabic(text);\n      }\n\n      text = fixHamzeh(text);\n    } else if (opts.fix_suffix_spacing) {\n      if (opts.fix_hamzeh_arabic) {\n        text = fixHamzehArabicAlt(text);\n      }\n\n      text = fixSuffixSpacingHamzeh(text);\n    }\n\n    if (opts.cleanup_rlm) {\n      text = cleanupRLM(text);\n    }\n\n    if (opts.cleanup_zwnj) {\n      text = cleanupZWNJ(text);\n    }\n\n    if (opts.fix_arabic_numbers) {\n      text = fixArabicNumbers(text);\n    }\n\n    // word tokenizer\n    text = text.replace(/(^|\\s+)([[({\"'“«]?)(\\S+)([\\])}\"'”»]?)(?=($|\\s+))/g,\n      function (matched, before, leadings, word, trailings, after) {\n        // should not replace to persian chars in english phrases\n        if (word.match(/[a-zA-Z\\-_]{2,}/g)) {\n          return matched;\n        }\n\n        // should not touch sprintf directives\n        // @source: https://stackoverflow.com/a/8915445/\n        if (word.match(/%(?:\\d+\\$)?[+-]?(?:[ 0]|'.{1})?-?\\d*(?:\\.\\d+)?[bcdeEufFgGosxX]/g)) {\n          return matched;\n        }\n\n        // should not touch numbers in html entities\n        if (word.match(/&#\\d+;/g)) {\n          return matched;\n        }\n\n        // skips converting english numbers of ordered lists in markdown\n        if (opts.skip_markdown_ordered_lists_numbers_conversion && (matched + trailings + after).match(/(?:(?:\\r?\\n)|(?:\\r\\n?)|(?:^|\\n))\\d+\\.\\s/)) {\n          return matched;\n        }\n\n        if (opts.fix_english_numbers) {\n          matched = fixEnglishNumbers(matched);\n        }\n\n        if (opts.fix_numeral_symbols) {\n          matched = fixNumeralSymbols(matched);\n        }\n\n        if (opts.fix_punctuations) {\n          matched = fixPunctuations(matched);\n        }\n\n        if (opts.fix_misc_non_persian_chars) {\n          matched = fixMiscNonPersianChars(matched);\n        }\n\n        if (opts.fix_question_mark) {\n          matched = fixQuestionMark(matched);\n        }\n\n        return matched;\n      }\n    );\n\n    if (opts.normalize_dates) {\n      text = normalizeDates(text);\n    }\n\n    if (opts.fix_perfix_spacing) {\n      text = fixPerfixSpacing(text);\n    }\n\n    if (opts.fix_suffix_spacing) {\n      text = fixSuffixSpacing(text);\n    }\n\n    if (opts.fix_suffix_misc) {\n      text = fixSuffixMisc(text);\n    }\n\n    if (opts.fix_spacing_for_braces_and_quotes) {\n      text = fixBracesSpacing(text);\n    }\n\n    if (opts.cleanup_extra_marks) {\n      text = cleanupExtraMarks(text);\n    }\n\n    if (opts.fix_spacing_for_punctuations) {\n      text = fixPunctuationSpacing(text);\n    }\n\n    if (opts.kashidas_as_parenthetic) {\n      text = kashidasAsParenthetic(text);\n    }\n\n    if (opts.cleanup_kashidas) {\n      text = cleanupKashidas(text);\n    }\n\n    if (opts.markdown_normalize_braces) {\n      text = markdownNormalizeBraces(text);\n    }\n\n    if (opts.markdown_normalize_lists) {\n      text = markdownNormalizeLists(text);\n    }\n\n    // doing it again after `fixPunctuationSpacing()`\n    if (opts.fix_spacing_for_braces_and_quotes) {\n      text = fixBracesSpacingInside(text);\n    }\n\n    if (opts.fix_misc_spacing) {\n      text = fixMiscSpacing(text);\n    }\n\n    if (opts.remove_diacritics) {\n      text = removeDiacritics(text);\n    } else if (opts.fix_diacritics) {\n      text = fixDiacritics(text);\n    }\n\n    if (opts.cleanup_spacing) {\n      text = cleanupSpacing(text);\n    }\n\n    if (opts.cleanup_zwnj) {\n      text = cleanupZWNJLate(text);\n    }\n\n    if (opts.cleanup_line_breaks) {\n      text = cleanupLineBreaks(text);\n    }\n\n    // bringing back entities\n    if (opts.preserve_entities) {\n      text = text.replace(/[ ]?__ENTITIES__PRESERVER__[ ]?/g, function () {\n        return entities.shift();\n      });\n    }\n\n    // bringing back nbsps\n    if (opts.preserve_nbsps) {\n      text = text.replace(/[ ]?__NBSPS__PRESERVER__[ ]?/g, function () {\n        return nbsps.shift();\n      });\n    }\n\n    // bringing back URIs\n    if (opts.preserve_URIs) {\n      // no padding!\n      text = text.replace(/__MD_LINK__PRESERVER__/g, function () {\n        return mdlinks.shift();\n      });\n\n      text = text.replace(/[ ]?__URI__PRESERVER__[ ]?/g, function () {\n        return uris.shift();\n      });\n    }\n\n    // bringing back braces\n    if (opts.preserve_braces) {\n      text = text.replace(/[ ]?__BRACES__PRESERVER__[ ]?/g, function () {\n        return braces.shift();\n      });\n    }\n\n    // bringing back brackets\n    if (opts.preserve_brackets) {\n      text = text.replace(/[ ]?__BRACKETS__PRESERVER__[ ]?/g, function () {\n        return brackets.shift();\n      });\n    }\n\n    // bringing back HTML comments\n    if (opts.preserve_comments) {\n      text = text.replace(/[ ]?__COMMENT__PRESERVER__[ ]?/g, function () {\n        return comments.shift();\n      });\n    }\n\n    // bringing back HTML tags\n    if (opts.preserve_HTML) {\n      text = text.replace(/[ ]?__HTML__PRESERVER__[ ]?/g, function () {\n        return html.shift();\n      });\n    }\n\n    // bringing back frontmatter\n    if (opts.preserve_frontmatter) {\n      text = text.replace(/[ ]?__FRONTMATTER__PRESERVER__[ ]?/g, function () {\n        return frontmatter.shift();\n      });\n    }\n\n    if (opts.cleanup_begin_and_end) {\n      text = cleanupBeginAndEnd(text);\n    } else {\n      // removes single space paddings around the string\n      text = text.replace(/^[ ]/g, '').replace(/[ ]$/g, '');\n    }\n\n    return text;\n  }\n\n  // props @ebraminio/persiantools\n  function cleanupZWNJ (text) {\n    return text\n\n      // converts all soft hyphens (&shy;) into zwnj\n      .replace(/\\u00ad/g, '\\u200c')\n\n      // removes more than one zwnj\n      .replace(/\\u200c{2,}/g, '\\u200c')\n\n      // cleans zwnj before and after numbers, english words, spaces and punctuations\n      .replace(/\\u200c([\\w\\s0-9۰-۹[\\](){}«»“”.…,:;?!$%@#*=+\\-/\\\\،؛٫٬×٪؟ـ])/g, '$1')\n      .replace(/([\\w\\s0-9۰-۹[\\](){}«»“”.…,:;?!$%@#*=+\\-/\\\\،؛٫٬×٪؟ـ])\\u200c/g, '$1')\n\n      // removes unnecessary zwnj on start/end of each line\n      .replace(/(^\\u200c|\\u200c$)/gm, '')\n    ;\n  }\n\n  // late checks for zwnjs\n  function cleanupZWNJLate (text) {\n    return text\n\n      // cleans zwnj after characters that don't conncet to the next\n      .replace(/([إأةؤورزژاآدذ،؛,:«»\\\\/@#$٪×*()ـ\\-=|])\\u200c/g, '$1')\n    ;\n  }\n\n  // converts numeral and selected html character-sets into original characters\n  // @props: @substack/node-ent\n  function decodeHTMLEntities (text) {\n    return text.replace(/&(#?[^;\\W]+;?)/g, function (matched, match) {\n      var n;\n      if ((n = /^#(\\d+);?$/.exec(match))) {\n        return String.fromCharCode(parseInt(n[1], 10));\n      } else if ((n = /^#[Xx]([A-Fa-f0-9]+);?/.exec(match))) {\n        return String.fromCharCode(parseInt(n[1], 16));\n      } else {\n        var hasSemi = /;$/.test(match);\n        var withoutSemi = hasSemi ? match.replace(/;$/, '') : match;\n        var target = entities[withoutSemi] || (hasSemi && entities[match]);\n\n        if (typeof target === 'number') {\n          return String.fromCharCode(target);\n        } else if (typeof target === 'string') {\n          return target;\n        } else {\n          return '&' + match;\n        }\n      }\n    });\n  }\n\n  function normalizeEOL (text) {\n    return text\n\n      // replaces windows end of lines with unix eol (`\\n`)\n      .replace(/(\\r?\\n)|(\\r\\n?)/g, '\\n')\n    ;\n  }\n\n  function fixDashes (text) {\n    return text\n\n      // replaces triple dash to mdash\n      .replace(/-{3}/g, '—')\n\n      // replaces double dash to ndash\n      .replace(/-{2}/g, '–')\n    ;\n  }\n\n  function fixThreeDots (text) {\n    return text\n\n      // removes spaces between dots\n      .replace(/\\.([ ]+)(?=[.])/g, '.')\n\n      // replaces three dots with ellipsis character\n      .replace(/[ \\t]*\\.{3,}/g, '…')\n    ;\n  }\n\n  function normalizeEllipsis (text) {\n    return text\n\n      // replaces more than one ellipsis with one\n      .replace(/(…){2,}/g, '…')\n\n      // replaces (space|tab|zwnj) after ellipsis with one space\n      // NOTE: allows for space before ellipsis\n      .replace(/([ ]{1,})*…[ \\t\\u200c]*/g, '$1… ')\n    ;\n  }\n\n  function fixEnglishQuotesPairs (text) {\n    return text\n\n      // replaces english quote pairs with their persian equivalent\n      .replace(/(“)(.+?)(”)/g, '«$2»')\n    ;\n  }\n\n  // replaces english quote marks with their persian equivalent\n  function fixEnglishQuotes (text) {\n    return text\n      .replace(/([\"'`]+)(.+?)(\\1)/g, '«$2»')\n    ;\n  }\n\n  function fixHamzeh (text) {\n    var replacement = '$1هٔ$3';\n    return text\n\n      // replaces ه followed by (space|ZWNJ|lrm) follow by ی with هٔ\n      .replace(/(\\S)(ه[\\s\\u200c\\u200e]+[یي])([\\s\\u200c\\u200e])/g, replacement) // heh + ye\n\n      // replaces ه followed by (space|ZWNJ|lrm|nothing) follow by ء with هٔ\n      .replace(/(\\S)(ه[\\s\\u200c\\u200e]?\\u0621)([\\s\\u200c\\u200e])/g, replacement) // heh + standalone hamza\n\n      // replaces هٓ or single-character ۀ with the standard هٔ\n      // props @ebraminio/persiantools\n      .replace(/(ۀ|هٓ)/g, 'هٔ')\n    ;\n  }\n\n  function fixHamzehArabic (text) {\n    return text\n\n      // converts arabic hamzeh ة to هٔ\n      .replace(/(\\S)ة([\\s\\u200c\\u200e])/g, '$1هٔ$2')\n    ;\n  }\n\n  function fixHamzehArabicAlt (text) {\n    return text\n      // converts arabic hamzeh ة to ه‌ی\n      .replace(/(\\S)ة([\\s\\u200c\\u200e])/g, '$1ه‌ی$2')\n    ;\n  }\n\n  function cleanupRLM (text) {\n    return text\n      // converts Right-to-left marks followed by persian characters to\n      // zero-width non-joiners (ZWNJ)\n      .replace(/([^a-zA-Z\\-_])(\\u200F)/g, '$1\\u200c')\n    ;\n  }\n\n  // converts incorrect persian glyphs to standard characters\n  function fixPersianGlyphs (text) {\n    return arrReplace(text, glyphs);\n  }\n\n  // props @ebraminio/persiantools\n  function fixMiscNonPersianChars (text) {\n    return charReplace(text, 'كڪيىۍېہە', 'ککییییههه');\n    // return text\n    //   .replace(/ك/g, 'ک') // arabic kaf\n    //   .replace(/ڪ/g, 'ک') // arabic letter swash kaf\n    //   .replace(/ي/g, 'ی') // arabic\n    //   .replace(/ى/g, 'ی') // urdu\n    //   .replace(/ۍ/g, 'ی') // pushtu\n    //   .replace(/ې/g, 'ی') // uyghur\n    //   .replace(/ہ/g, 'ه') // converts &#x06C1; to &#x0647; ہہہہ to ههه\n    //   .replace(/[ەھ]/g, 'ه'); // kurdish\n  }\n\n  // replaces english numbers with their persian equivalent\n  function fixEnglishNumbers (text) {\n    return charReplace(text, '1234567890', digits);\n  }\n\n  // replaces arabic numbers with their persian equivalent\n  function fixArabicNumbers (text) {\n    return charReplace(text, '١٢٣٤٥٦٧٨٩٠', digits);\n  }\n\n  // @REF: https://github.com/shkarimpour/pholiday/pull/5/files\n  function convertPersianNumbers (text) {\n    return text.replace(/[\\u0660-\\u0669\\u06f0-\\u06f9]/g, function (char) {\n      return char.charCodeAt(0) & 0xf;\n    });\n  }\n\n  function fixNumeralSymbols (text) {\n    return text\n\n      // replaces english percent signs (U+066A)\n      // props @ebraminio/persiantools\n      .replace(/([۰-۹]) ?%/g, '$1٪')\n\n      // replaces dots between numbers into decimal separator (U+066B)\n      // props @ebraminio/persiantools\n      .replace(/([۰-۹])\\.(?=[۰-۹])/g, '$1٫')\n\n      // replaces commas between numbers into thousands separator (U+066C)\n      // props @languagetool-org\n      .replace(/([۰-۹]),(?=[۰-۹])/g, '$1٬')\n    ;\n  }\n\n  function normalizeDates (text) {\n    return text\n\n      // re-orders date parts with slash as delimiter\n      .replace(/([0-9۰-۹]{1,2})([/-])([0-9۰-۹]{1,2})\\2([0-9۰-۹]{4})/g, function (matched, day, delimiter, month, year) {\n        return year + '/' + month + '/' + day;\n      })\n    ;\n  }\n\n  function fixPunctuations (text) {\n    return charReplace(text, ',;', '،؛');\n  }\n\n  // replaces question marks with its persian equivalent\n  function fixQuestionMark (text) {\n    return text\n      .replace(/(\\?)/g, '\\u061F') // \\u061F = ؟\n    ;\n  }\n\n  // puts zwnj between the word and the prefix:\n  // - mi* nemi* bi*\n  // NOTE: there's a possible bug here: prefixes could be separate nouns\n  function fixPerfixSpacing (text) {\n    var replacement = '$1\\u200c$3';\n    return text\n      .replace(/((\\s|^)ن?می) ([^ ])/g, replacement)\n      .replace(/((\\s|^)بی) ([^ ])/g, replacement) // props @zoghal\n    ;\n  }\n\n  // puts zwnj between the word and the suffix\n  // NOTE: possible bug: suffixes could be nouns\n  function fixSuffixSpacing (text) {\n    var replacement = '$1\\u200c$2';\n    return text\n\n      // must done before others\n      // *ha *haye\n      .replace(newRegExp('([' + charsPersian + charsDiacritic + ']) (ها(ی)?[' + patternAfter + '])'), replacement)\n\n      // *am *at *ash *ei *eid *eem *and *man *tan *shan\n      .replace(newRegExp('([' + charsPersian + charsDiacritic + ']) ((ام|ات|اش|ای|اید|ایم|اند|مان|تان|شان)[' + patternAfter + '])'), replacement)\n\n      // *tar *tari *tarin\n      .replace(newRegExp('([' + charsPersian + charsDiacritic + ']) (تر((ی)|(ین))?[' + patternAfter + '])'), replacement)\n\n      // *hayee *hayam *hayat *hayash *hayetan *hayeman *hayeshan\n      .replace(newRegExp('([' + charsPersian + charsDiacritic + ']) ((هایی|هایم|هایت|هایش|هایمان|هایتان|هایشان)[' + patternAfter + '])'), replacement)\n    ;\n  }\n\n  function fixSuffixSpacingHamzeh (text) {\n    var replacement = '$1\\u0647\\u200c\\u06cc$3';\n    return text\n\n      // heh + ye\n      .replace(/(\\S)(ه[\\s\\u200c]+[یي])([\\s\\u200c])/g, replacement)\n\n      // heh + standalone hamza\n      .replace(/(\\S)(ه[\\s\\u200c]?\\u0621)([\\s\\u200c])/g, replacement)\n\n      // heh + hamza above\n      .replace(/(\\S)(ه[\\s\\u200c]?\\u0654)([\\s\\u200c])/g, replacement)\n    ;\n  }\n\n  function fixSuffixMisc (text) {\n    return text\n      // replaces ه followed by ئ or ی, and then by ی, with ه\\u200cای,\n      // EXAMPLE: خانه‌ئی becomes خانه‌ای\n      // props @ebraminio/persiantools\n      .replace(/(\\S)ه[\\u200c\\u200e][ئی]ی([\\s\\u200c\\u200e])/g, '$1ه\\u200cای$2')\n    ;\n  }\n\n  function cleanupExtraMarks (text) {\n    return text\n\n      // removes space between different/same marks (combining for cleanup)\n      .replace(/([؟?!])([ ]+)(?=[؟?!])/g, '$1')\n\n      // replaces more than one exclamation mark with just one\n      .replace(/(!){2,}/g, '$1')\n      // replaces more than one english or persian question mark with just one\n      .replace(/(\\u061F|\\?){2,}/g, '$1') // \\u061F = `؟`\n      // re-orders consecutive marks\n      .replace(/(!)([ \\t]*)([\\u061F?])/g, '$3$1') // `?!` --> `!?`\n    ;\n  }\n\n  // replaces kashidas to ndash in parenthetic\n  function kashidasAsParenthetic (text) {\n    return text\n      .replace(/(\\s)\\u0640+/g, '$1–')\n      .replace(/\\u0640+(\\s)/g, '–$1')\n    ;\n  }\n\n  function cleanupKashidas (text) {\n    return text\n      // converts kashida between numbers to ndash\n      .replace(/([0-9۰-۹]+)ـ+([0-9۰-۹]+)/g, '$1–$2')\n\n      // removes all kashidas between non-whitespace characters\n      // MAYBE: more punctuations\n      .replace(/([^\\s.])\\u0640+(?![\\s.])/g, '$1')\n    ;\n  }\n\n  function fixPunctuationSpacing (text) {\n    return text\n      // removes space before punctuations\n      .replace(/[ \\t\\u200c]*([:;,؛،.؟?!]{1})/g, '$1')\n\n      // removes more than one space after punctuations\n      // except followed by new-lines (or preservers)\n      .replace(/([:;,؛،.؟?!]{1})[ \\t\\u200c]*(?!\\n|_{2})/g, '$1 ')\n\n      // removes space after colon that separates time parts\n      .replace(/([0-9۰-۹]+):\\s+([0-9۰-۹]+)/g, '$1:$2')\n\n      // removes space after dots in numbers\n      .replace(/([0-9۰-۹]+)\\. ([0-9۰-۹]+)/g, '$1.$2')\n\n      // removes space before common domain tlds\n      .replace(/([\\w\\-_]+)\\. (ir|com|org|net|info|edu|me)([\\s/\\\\\\])»:;.])/g, '$1.$2$3')\n\n      // removes space between different/same marks (double-check)\n      .replace(/([؟?!])([ ]+)(?=[؟?!])/g, '$1')\n    ;\n  }\n\n  function fixBracesSpacing (text) {\n    var replacement = ' $1$2$3 ';\n    return text\n      // removes inside spaces and more than one outside\n      // for `()`, `[]`, `{}`, `“”` and `«»`\n      .replace(/[ \\t\\u200c]*(\\()\\s*([^)]+?)\\s*?(\\))[ \\t\\u200c]*/g, replacement)\n      .replace(/[ \\t\\u200c]*(\\[)\\s*([^\\]]+?)\\s*?(\\])[ \\t\\u200c]*/g, replacement)\n      .replace(/[ \\t\\u200c]*(\\{)\\s*([^}]+?)\\s*?(\\})[ \\t\\u200c]*/g, replacement)\n      .replace(/[ \\t\\u200c]*(“)\\s*([^”]+?)\\s*?(”)[ \\t\\u200c]*/g, replacement)\n      .replace(/[ \\t\\u200c]*(«)\\s*([^»]+?)\\s*?(»)[ \\t\\u200c]*/g, replacement)\n    ;\n  }\n\n  function fixBracesSpacingInside (text) {\n    var replacement = '$1$2$3';\n    return text\n      // removes inside spaces for `()`, `[]`, `{}`, `“”` and `«»`\n      .replace(/(\\()\\s*([^)]+?)\\s*?(\\))/g, replacement)\n      .replace(/(\\[)\\s*([^\\]]+?)\\s*?(\\])/g, replacement)\n      .replace(/(\\{)\\s*([^}]+?)\\s*?(\\})/g, replacement)\n      .replace(/(“)\\s*([^”]+?)\\s*?(”)/g, replacement)\n      .replace(/(«)\\s*([^»]+?)\\s*?(»)/g, replacement)\n\n      // NOTE: must be here, wierd not working if on `markdownNormalizeBraces()`\n      // removes markdown link spaces inside normal ()\n      .replace(/(\\(\\[.*?\\]\\(.*?\\))\\s+(\\))/g, '$1$2')\n    ;\n  }\n\n  function markdownNormalizeBraces (text) {\n    return text\n      // removes space between ! and opening brace on markdown images\n      // EXAMPLE: `! [alt] (src)` --> `![alt](src)`\n      .replace(/! (\\[.*?\\])[ ]?(\\(.*?\\))[ ]?/g, '!$1$2')\n\n      // removes spaces between [] and ()\n      // EXAMPLE: `[text] (link)` --> `[text](link)`\n      .replace(/(\\[.*?\\])[ \\t]+(\\(.*?\\))/g, '$1$2')\n\n      // removes spaces inside double () [] {}\n      // EXAMPLE: `[[ text ]]` --> `[[text]]`\n      .replace(/\\(\\([ \\t]*(.*?)[ \\t]*\\)\\)/g, '(($1))')\n      .replace(/\\[\\[[ \\t]*(.*?)[ \\t]*\\]\\]/g, '[[$1]]')\n      .replace(/\\{\\{[ \\t]*(.*?)[ \\t]*\\}\\}/g, '{{$1}}')\n      .replace(/\\{\\{\\{[ \\t]*(.*?)[ \\t]*\\}\\}\\}/g, '{{{$1}}}') // mustache escape\n\n      // removes spaces between double () [] {}\n      // EXAMPLE: `[[text] ]` --> `[[text]]`\n      .replace(/(\\(\\(.*\\))[ \\t]+(\\))/g, '$1$2')\n      .replace(/(\\[\\[.*\\])[ \\t]+(\\])/g, '$1$2')\n      .replace(/(\\{\\{.*\\})[ \\t]+(\\})/g, '$1$2')\n    ;\n  }\n\n  function markdownNormalizeLists (text) {\n    return text\n      // removes extra line between two items list\n      .replace(/((\\n|^)\\*.*?)\\n+(?=\\n\\*)/g, '$1')\n      .replace(/((\\n|^)-.*?)\\n+(?=\\n-)/g, '$1')\n      .replace(/((\\n|^)#.*?)\\n+(?=\\n#)/g, '$1')\n    ;\n  }\n\n  function fixMiscSpacing (text) {\n    return text\n\n      // removes space before parentheses on misc cases\n      .replace(/ \\((ص|عج|س|ع|ره)\\)/g, '($1)')\n\n      // removes space before braces containing numbers\n      .replace(/ \\[([0-9۰-۹]+)\\]/g, '[$1]')\n    ;\n  }\n\n  function fixDiacritics (text) {\n    return text\n      // cleans zwnj before diacritic characters\n      .replace(newRegExp('\\u200c([' + charsDiacritic + '])'), '$1')\n\n      // cleans more than one diacritic characters\n      // props @languagetool-org\n      .replace(newRegExp('(.*)([' + charsDiacritic + ']){2,}(.*)'), '$1$2$3')\n\n      // cleans spaces before diacritic characters\n      .replace(newRegExp('(\\\\S)[ ]+([' + charsDiacritic + '])'), '$1$2')\n    ;\n  }\n\n  function removeDiacritics (text) {\n    return text\n\n      // removes all diacritic characters\n      .replace(newRegExp('[' + charsDiacritic + ']+'), '')\n    ;\n  }\n\n  function cleanupSpacing (text) {\n    return text\n\n      // replaces more than one space with just a single one\n      // except before/after preservers and before new-lines\n      // .replace(/(?<![_]{2})([ ]{2,})(?![_]{2}|\\n)/g, ' ') // WORKS: using lookbehind\n      .replace(/([^_])([ ]{2,})(?![_]{2}|\\n)/g, '$1 ')\n\n      // cleans whitespace/zwnj between new-lines\n      // @REF: https://stackoverflow.com/a/10965543/\n      .replace(/\\n[\\s\\u200c]*\\n/g, '\\n\\n')\n    ;\n  }\n\n  function cleanupLineBreaks (text) {\n    return text\n\n      // cleans more than two contiguous line-breaks\n      .replace(/\\n{2,}/g, '\\n\\n')\n    ;\n  }\n\n  function cleanupBeginAndEnd (text) {\n    return text\n\n      // removes space/tab/zwnj/nbsp from the beginning of the new-lines\n      .replace(/([\\n]+)[ \\t\\u200c\\u00a0]*/g, '$1')\n\n      // removes spaces, tabs, zwnj, direction marks and new lines from\n      // the beginning and end of text\n      // @REF: http://stackoverflow.com/a/38490203\n      .replace(/^[\\s\\u200c\\u200e\\u200f]+|[\\s\\u200c\\u200e\\u200f]+$/g, '')\n    ;\n  }\n\n  function flipPunctuations (text) {\n    var end = ['-'];\n    var start = ['!', '.', '،', '…', '\"'];\n    var before = [];\n    var after = [];\n\n    text = fixThreeDots(text);\n\n    for (var iStart = 0; iStart < start.length; iStart++) {\n      var sElement = start[iStart];\n      var sReg = newRegExp('^\\\\' + sElement, 'i');\n      if (sReg.test(text)) {\n        text = text.replace(sReg, '').trim();\n        after.push(sElement);\n      }\n    }\n\n    for (var iEnd = 0; iEnd < end.length; iEnd++) {\n      var eElement = end[iEnd];\n      var eReg = newRegExp('\\\\' + eElement + '$', 'i');\n      if (eReg.test(text)) {\n        text = text.replace(eReg, '').trim();\n        before.push(eElement);\n      }\n    }\n\n    for (var iBefore = 0; iBefore < before.length; iBefore++) {\n      text = before[iBefore] + ' ' + text;\n    }\n\n    for (var iAfter = 0; iAfter < after.length; iAfter++) {\n      text += after[iAfter];\n    }\n\n    return normalizeEllipsis(text);\n  }\n\n  // swap incorrect quotes pairs `»«` to `«»` and `”“` to `“”`\n  function swapQuotes (text) {\n    return text\n      .replace(/(»)(.+?)(«)/g, '«$2»')\n      .replace(/(”)(.+?)(“)/g, '“$2”')\n    ;\n  }\n\n  Virastar.prototype = {\n\n    // public methods\n    defaults: defaults,\n    cleanup: cleanup,\n\n    // internal methods\n    // cleanupZWNJ: cleanupZWNJ,\n    // cleanupZWNJLate: cleanupZWNJLate,\n    // decodeHTMLEntities: decodeHTMLEntities,\n    // normalizeEOL: normalizeEOL,\n    // fixDashes: fixDashes,\n    // fixThreeDots: fixThreeDots,\n    // normalizeEllipsis: normalizeEllipsis,\n    // fixEnglishQuotesPairs: fixEnglishQuotesPairs,\n    // fixEnglishQuotes: fixEnglishQuotes,\n    // fixHamzeh: fixHamzeh,\n    // fixHamzehArabic: fixHamzehArabic,\n    // fixHamzehArabicAlt: fixHamzehArabicAlt,\n    // cleanupRLM: cleanupRLM,\n    // fixPersianGlyphs: fixPersianGlyphs,\n    // fixMiscNonPersianChars: fixMiscNonPersianChars,\n    // fixEnglishNumbers: fixEnglishNumbers,\n    // fixArabicNumbers: fixArabicNumbers,\n    // fixNumeralSymbols: fixNumeralSymbols,\n    // fixPunctuations: fixPunctuations,\n    // fixQuestionMark: fixQuestionMark,\n    // fixPerfixSpacing: fixPerfixSpacing,\n    // fixSuffixSpacing: fixSuffixSpacing,\n    // fixSuffixSpacingHamzeh: fixSuffixSpacingHamzeh,\n    // fixSuffixMisc: fixSuffixMisc,\n    // cleanupExtraMarks: cleanupExtraMarks,\n    // kashidasAsParenthetic: kashidasAsParenthetic,\n    // cleanupKashidas: cleanupKashidas,\n    // fixPunctuationSpacing: fixPunctuationSpacing,\n    // fixBracesSpacing: fixBracesSpacing,\n    // fixBracesSpacingInside: fixBracesSpacingInside,\n    // markdownNormalizeBraces: markdownNormalizeBraces,\n    // markdownNormalizeLists: markdownNormalizeLists,\n    // fixDiacritics: fixDiacritics,\n    // cleanupSpacing: cleanupSpacing,\n    // cleanupLineBreaks: cleanupLineBreaks,\n    // cleanupBeginAndEnd: cleanupBeginAndEnd,\n\n    // extra methods\n    convertPersianNumbers: convertPersianNumbers,\n    flipPunctuations: flipPunctuations,\n    swapQuotes: swapQuotes\n  };\n\n  return Virastar;\n}));\n","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editPost\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"notices\"];","module.exports = window[\"wp\"][\"plugins\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerPlugin } from '@wordpress/plugins';\nimport { PluginDocumentSettingPanel } from '@wordpress/edit-post';\nimport { useDispatch } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nvar Virastar = require('virastar');\nvar virastar = new Virastar();\n\nregisterPlugin('wpp-virastar', {\n\trender() {\n\t\tconst { createWarningNotice, createSuccessNotice } = useDispatch(noticesStore);\n\t\tconst handleVirastar = (e) => {\n\t\t\tconst WppOptions = parseWPLocalizedOptions()\n\t\t\te.target.classList.add('disabled')\n\n\t\t\tlet title = wp.data.select('core/editor').getEditedPostAttribute('title');\n\t\t\tlet excerpt = wp.data.select('core/editor').getEditedPostAttribute('excerpt');\n\n\t\t\twp.data.dispatch('core/editor').editPost({ title: virastar.cleanup(title, WppOptions) });\n\t\t\twp.data.dispatch('core/editor').editPost({ excerpt: virastar.cleanup(excerpt, WppOptions) });\n\n\t\t\tconst blocks = wp.data.select('core/block-editor').getBlocks();\n\n\t\t\tblocks.forEach(wppVirastarReviewBlock)\n\n\t\t\tvirastarSuccess();\n\n\t\t\te.target.classList.remove('disabled')\n\t\t};\n\t\tconst virastarError = () => (\n\t\t\tcreateWarningNotice(__('Virastar reviewed content successfully!'), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t\ticon: '😵‍💫',\n\t\t\t})\n\t\t);\n\t\tconst virastarSuccess = () => (\n\t\t\tcreateSuccessNotice(__('Virastar reviewed content successfully!'), {\n\t\t\t\ttype: 'snackbar',\n\t\t\t\ticon: '😍',\n\t\t\t})\n\t\t);\n\t\treturn (\n\t\t\t<PluginDocumentSettingPanel\n\t\t\t\ttitle={__('✍️ Parsi Virastar', 'wp-parsidate')}\n\t\t\t\tclassName=\"wpp-virastar-panel\"\n\t\t\t\tinitialOpen=\"true\"\n\t\t\t>\n\t\t\t\t<Button variant=\"primary\" className=\"wpp-run-virastar\" onClick={handleVirastar}>\n\t\t\t\t\t{__('Run Virastar', 'wp-parsidate')}\n\t\t\t\t</Button>\n\t\t\t</PluginDocumentSettingPanel>\n\t\t);\n\t}\n});\n\nconst wppVirastarReviewBlock = (block) => {\n\tconst WppOptions = parseWPLocalizedOptions()\n\n\tif (!!block.attributes.content && !!block.attributes.content.length) {\n\t\twp.data.dispatch('core/block-editor').updateBlockAttributes(block.clientId, {\n\t\t\tcontent: virastar.cleanup(block.attributes.content, WppOptions)\n\t\t});\n\t}\n\n\tif (!!block.innerBlocks.length) {\n\t\tlet innerBlocks = block.innerBlocks\n\t\tinnerBlocks.forEach(wppVirastarReviewBlock)\n\t}\n};\n\nfunction parseWPLocalizedOptions() {\n\tif (WPPVirastarOptions === \"undefined\") {\n\t\treturn {}\n\t} else {\n\t\tlet parsedArr = {};\n\t\tlet injectedOptions = Object.keys(WPPVirastarOptions)\n\t\tinjectedOptions.forEach((item, index) => parsedArr[item] = !!+WPPVirastarOptions[item]);\n\n\t\treturn parsedArr;\n\t}\n}"],"names":["registerPlugin","PluginDocumentSettingPanel","useDispatch","store","noticesStore","__","Button","Virastar","require","virastar","render","createWarningNotice","createSuccessNotice","handleVirastar","e","WppOptions","parseWPLocalizedOptions","target","classList","add","title","wp","data","select","getEditedPostAttribute","excerpt","dispatch","editPost","cleanup","blocks","getBlocks","forEach","wppVirastarReviewBlock","virastarSuccess","remove","virastarError","type","icon","createElement","className","initialOpen","variant","onClick","block","attributes","content","length","updateBlockAttributes","clientId","innerBlocks","WPPVirastarOptions","parsedArr","injectedOptions","Object","keys","item","index"],"sourceRoot":""}